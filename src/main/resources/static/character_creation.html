<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Osp-Garath</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/rpg-awesome.css">
    <link rel="stylesheet" type="text/css" href="tooltipster/dist/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" href="tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-borderless.min.css"/>

    <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.0.min.js"></script>
    <script type="text/javascript" src="tooltipster/dist/js/tooltipster.bundle.min.js"></script>

    <script>
        $(document).ready(function() {
            // $('.tooltip').tooltipster();
            // $('.tooltip').tooltipster({
            //     contentCloning: true,
            //     theme: 'tooltipster-borderless'
            // });
        });
    </script>
</head>
<style>
    #body {
        color: yellow;
    }

    .tooltip_templates { display: none; }

    /*-------------------------------------------------------------------*/

    .ability_button {
        margin: 2vh 1vw 0 10.5vw;
    }

    #ability_scores {
        position: absolute;
        margin-left: 2vw;
        margin-top: 2vh;
        opacity: .9;
    }

    .ability_row {
        height: 14vh;
    }

    .ability_select {
        background: url(img/dropdown.jpg) no-repeat;
        display: inline-block;
        position: fixed;
        left: 68vw;
        margin-top: 3vh;
    }

    #class_body {
        position: absolute;
        left: 16vw;
        text-align: center;
        width: 50vw;
    }

    .disabled_button {
        opacity: .6;
    }

    .disabled_button:hover {
        box-shadow: none !important;
    }

    .disabled_menu_item {
        opacity: .6;
    }

    .disabled_menu_item:hover {
        border: none !important;
    }

    .error_message {
        text-shadow: 3px 2px 7px black;
        padding-left: 5px;
    }

    .game_button {
        background: url(img/button1.jpg) no-repeat;
        /*margin: 0 35%;*/
        background-size: 100% 100%;
        border: none;
        box-shadow: 0 0 0 1px darkslategrey;
        transition: all 100ms ease-out;
        font-size: 12pt;
        color: yellow;
        font-family: 'Marcellus SC', serif;
        text-shadow: 2px 2px 5px black;
        width: 10vw;
        height: 8vh;
        outline: none;
    }

    .game_button:hover {
        box-shadow: 0 0 12px yellow;
    }

    .low_end_rolls {
        text-decoration: line-through;
        opacity: .6;
    }

    .last_end_plus {
        opacity: .6;
    }

    #menu {
        display: flex;
        margin: 0 auto;
        padding: 10px 20px;
        background: rgba(0, 0, 0, .5);
        font-family: 'Marcellus SC', serif;
        font-size: 30px;
    }

    .menu_tab {
        background: none;
        border: none;
        color: yellow;
        margin-top: 6vh;
        margin-left: 6vh;
        transition: all 150ms ease-in-out;
        font-size: 10pt;
        font-family: 'Marcellus SC', serif;
        outline: none;
    }

    .menu_tab:hover {
        border-bottom: solid yellow;
    }

    .menu_tab_selected {
        border-bottom: solid yellow;
    }

    #middlePanel {
        width: 80vw;
        height: 100%;
        background: url(img/background7.png) no-repeat;
        -webkit-background-size: 100% 100%;
        background-size: 100% 100%;
        position: fixed;
        left: 10vw;
        /*border-style: none ridge none groove;*/
        border-color: antiquewhite;
        border-width: 5px;
    }

    #race_body {
        position: absolute;
        left: 16vw;
        text-align: center;
        width: 50vw;
    }

    .roll_display {
        background: url(img/box.jpg) no-repeat;
        background-size: 100% 100%;
        border: none;
        box-shadow: 0 0 0 1px darkslategray;
        position: fixed;
        width: 35vw;
        height: 11vh;
    }

    .roll_numbers {
        position: relative;
        left: 2vw;
        top: 3.2vh;
    }

    .roll_span {
        font-size: 22pt;
        margin-left: 1vw;
    }

    .roll_total {
        display: inline-block;
        position: relative;
        left: 27.5vw;
        top: .5vh;
        font-size: 22pt;
    }

    #save {
        position: fixed;
        width: fit-content;
        bottom: 1vh;
        left: 44vw;
    }

    select {
        background: url(img/dropdown.jpg);
        background-size: 100% 100%;
        width: 14vw;
        height: 6vh;
        font-family: 'Marcellus SC', serif;
        font-size: 12pt;
        color: yellow;
        -webkit-appearance: none;
        padding-left: 1vw;
        outline:none;
        box-shadow: 0 0 0 2px black;
        text-shadow: 2px 2px 5px black;
    }

    select:hover {
        box-shadow: 0 0 12px yellow;
    }

    .welcome_message {
        margin: 0 auto;
        width: 40vw;
        font-family: 'Philosopher', serif;
        font-size: 16pt;
        text-shadow: 2px 2px 7px black;
    }

    .hidden {
        display: none;
    }

</style>
<script>
    var TABS_ENABLED = false;
    var CLASSES_LOADED = false;
    var RACES_LOADED = false;
    var CURRENT_TAB;
    var CURRENT_TAB_SELECTOR;
    var STRENGTH;
    var QUICKNESS;
    var INTELLIGENCE;
    var LEADERSHIP;
    var ENDURANCE;

    function activateTooltipster() {
        $('.tooltip').tooltipster({
            contentCloning: true,
            theme: 'tooltipster-borderless'
        });
    }

    function add(a, b) {
        return a + b;
    }

    function addRollTotalModifier(rollNum, lowRoll1, lowRoll2) {
        var rollTotal = document.getElementById("roll_total" + rollNum).innerText;
        if (rollTotal.indexOf("(") === -1) {
            rollTotal = (parseInt(rollTotal) + (parseInt(lowRoll1.innerText) + parseInt(lowRoll2.innerText)));
            var modifier = getModifier(rollTotal);
            if (rollTotal == 0) modifier = "-";
            var sign = "";
            if (modifier > 0) sign = "+";
            document.getElementById("roll_total" + rollNum).innerText = rollTotal + " (" + sign + modifier + ")";
        }
    }

    function autoAdjustAbilitiesByClass(classCombo) {
        var abilitiesSorted = [STRENGTH, QUICKNESS, INTELLIGENCE, LEADERSHIP];
        abilitiesSorted.sort(function (a, b) {  return b - a;  });
        for (var i = 0; i < 4; i++) {
            var ability = classCombo.charAt(i);
            switch (ability) {
                case 'S':
                    STRENGTH = abilitiesSorted[i];
                    break;
                case 'Q':
                    QUICKNESS = abilitiesSorted[i];
                    break;
                case 'I':
                    INTELLIGENCE = abilitiesSorted[i];
                    break;
                case 'L':
                    LEADERSHIP = abilitiesSorted[i];
            }
        }
        update_ability_scores();
    }

    function adjustEndurance(rollNum, el) {
        var lowRoll1 = document.getElementById("roll" + rollNum + "-4");
        var lowRoll2 = document.getElementById("roll" + rollNum + "-5");
        if (selectText(el) !== "Endurance") {
            lowRoll1.classList.remove("low_end_rolls");
            lowRoll2.classList.remove("low_end_rolls");
            document.getElementById("last_plus" + rollNum).classList.remove("last_end_plus");
            addRollTotalModifier(rollNum, lowRoll1, lowRoll2);
            return;
        }
        lowRoll1.classList.add("low_end_rolls");
        lowRoll2.classList.add("low_end_rolls");
        document.getElementById("last_plus" + rollNum).classList.add("last_end_plus");


        removeRollTotalModifier(rollNum, lowRoll1, lowRoll2);
    }

    function changeTab(id, el) {
        if (!TABS_ENABLED) {
            return;
        }
        if (id !== "ability_body") {
            document.getElementById("ability_scores").style.display = "block";
            update_ability_scores();
        }
        else {
            document.getElementById("ability_scores").style.display = "none";
        }
        el.classList.add("menu_tab_selected");
        CURRENT_TAB_SELECTOR.classList.remove("menu_tab_selected");
        document.getElementById(CURRENT_TAB).style.display = "none";
        document.getElementById(id).style.display = "block";
        CURRENT_TAB = id;
        CURRENT_TAB_SELECTOR = el;
    }

    function enableTabs() {
        TABS_ENABLED = true;
        var tabs = document.getElementsByClassName("menu_tab");
        for (var i = 0; i < tabs.length; i++) {
            tabs.item(i).classList.remove("disabled_menu_item");
        }
    }

    function getModifier(num) {
        if (num > 20) {
            return 4; //19, 16, 12, 10
        }
        if (num >= 19) {
            return 3;
        }
        if (num >= 16) {
            return 2;
        }
        if (num >= 12) {
            return 1;
        }
        if (num >= 10) {
            return 0;
        }
        if (num >= 6) {
            return -1;
        }
        if (num >= 3) {
            return -2;
        }
        return -3;
    }

    function getRandomInt(max) {
        return Math.floor(Math.random() * Math.floor(max)) + 1 //don't include 0;
    }

    function loadClassDescription(ele) {
        var selectedClass = selectText(ele).split("(")[0].trim();
        $.get("/class/classDescription/" + selectedClass, function(data, status) {
            document.getElementById("class_description").innerText = data;
            loadClassTraits(selectedClass);
            loadClassRestrictions(selectedClass);
            var classCombo = selectText(ele).split("(")[1].replace("(", "").replace(")", "").trim();
            autoAdjustAbilitiesByClass(classCombo);
            loadClassPowers(selectedClass);
        });
    }

    function loadClassList() {
        if (CLASSES_LOADED) {
            return;
        }
        $.get("/class/classList", function(data, status){
            for (var i=0; i < data.length; i++) {
                var className = data[i];
                var classSelect = document.getElementById("class_select");
                var option = document.createElement("option");
                option.value = className.toLowerCase();
                option.innerText = className;
                classSelect.appendChild(option);
            }
        });
        CLASSES_LOADED = true;
    }

    function loadClassPowers(className) {
        document.getElementById("power_title").innerText = className;

        $.get("/class/classPowers/" + className, function(data, status) {
            var powersDisplay = document.getElementById("powers_display");
            // powersDisplay.innerHTML = "";
            var list = document.createElement("ul");
            for (var i = 0; i < data.length; i++) {
                var power = data[i];
                var listItem = document.createElement("li");
                listItem.innerText = power.description;
                list.appendChild(listItem);
                if (power.name === "Black Arrow") {
                    document.getElementById("power_name").innerText = power.name;
                    document.getElementById("power_description").innerText = power.description;
                    document.getElementById("power_icon").src = power.imageSrc + ".jpg";
                    activateTooltipster();
                }
            }
            powersDisplay.appendChild(list);
        })
    }

    function loadClassRestrictions(className) {
        $.get("/class/classRestrictions/" + className, function(data, status) {
            var restrictionList = document.getElementById("class_restrictions");
            restrictionList.innerHTML = "";
            for (var i = 0; i < data.length; i++) {
                var trait = data[i];
                var listElement = document.createElement("li");
                listElement.innerText = trait;
                restrictionList.appendChild(listElement);
            }
            document.getElementById("restrictions_header").classList.remove("hidden");
        })
    }

    function loadClassTraits(className) {
        $.get("/class/classTraits/" + className, function(data, status) {
            var traitList = document.getElementById("class_traits");
            traitList.innerHTML = "";
            for (var i = 0; i < data.length; i++) {
                var trait = data[i];
                var listElement = document.createElement("li");
                listElement.innerText = trait;
                traitList.appendChild(listElement);
            }
            document.getElementById("traits_header").classList.remove("hidden");
        })
    }

    function loadRacialPowers(race) {
        $.get("/race/racialPowers/" + race, function(data, status) {
            var powerList = document.getElementById("racial_powers");
            powerList.innerHTML = data;
            document.getElementById("racial_powers_header").classList.remove("hidden");
        })
    }

    function loadRacialTraits(race) {
        $.get("/race/racialTraits/" + race, function(data, status) {
            var traitList = document.getElementById("racial_traits");
            traitList.innerHTML = "";
            for (var i = 0; i < data.length; i++) {
                var trait = data[i];
                var listElement = document.createElement("li");
                listElement.innerText = trait;
                traitList.appendChild(listElement);
            }
            document.getElementById("racial_traits_header").classList.remove("hidden");
        })
    }

    function loadRaceDescription(ele) {
        var selectedRace = selectText(ele).split("(")[0].trim();
        $.get("/race/raceDescription/" + selectedRace, function(data, status) {
            document.getElementById("race_description").innerText = data;
            loadRacialTraits(selectedRace);
            loadRacialPowers(selectedRace);
            autoAdjustAbilitiesByRace(selectedRace);
        });
    }

    function loadRaceList() {
        if (RACES_LOADED) {
            return;
        }
        $.get("/race/raceList", function(data, status){
            for (var i=0; i < data.length; i++) {
                var race = data[i];
                var raceSelect = document.getElementById("race_select");
                var option = document.createElement("option");
                option.value = race.toLowerCase();
                option.innerText = race;
                raceSelect.appendChild(option);
            }
        });
        RACES_LOADED = true;
    }

    function removeRollTotalModifier(rollNum, lowRoll1, lowRoll2) {
        var rollTotal = document.getElementById("roll_total" + rollNum).innerText;
        if (rollTotal.indexOf("(") !== -1) {
            rollTotal = (parseInt(rollTotal) - (parseInt(lowRoll1.innerText) + parseInt(lowRoll2.innerText))).toString();
            document.getElementById("roll_total" + rollNum).innerText = rollTotal.split(" ")[0];
        }
    }

    function resetClassSelection() {
        document.getElementById("class_select").value = "";
        document.getElementById("class_description").innerText = "";
        document.getElementById("traits_header").classList.add("hidden");
        document.getElementById("restrictions_header").classList.add("hidden");
        document.getElementById("class_traits").innerHTML = "";
        document.getElementById("class_restrictions").innerHTML = "";
    }

    function resetRaceSelection() {
        document.getElementById("race_select").value = "";
        document.getElementById("race_description").innerText = "";
        document.getElementById("racial_traits_header").classList.add("hidden");
        document.getElementById("racial_powers_header").classList.add("hidden");
        document.getElementById("racial_traits").innerHTML = "";
        document.getElementById("racial_powers").innerHTML = "";
    }

    function rollAttribute(rollNum, el) {
        el.classList.add("disabled_button");
        el.disabled = true;
        var rolls = [];
        for (var i = 0; i < 5; i++) {
            rolls.push(getRandomInt(4));
        }
        rolls = rolls.sort(function (a, b) {  return b - a;  });

        for (var roll = 1; roll <= 5; roll++) {
            var element = document.getElementById("roll" + rollNum + "-" + roll).innerText = rolls[roll-1];
        }
        var rollTotal = rolls.reduce(add, 0);
        var modifier = getModifier(rollTotal);
        if (modifier > 0) {
            rollTotal = rollTotal + " (+" + modifier + ")";
        }
        else {
            rollTotal = rollTotal + " (" + modifier + ")";
        }
        document.getElementById("roll_total" + rollNum).innerText = rollTotal;
    }

    function saveAbilities() {
        var validated = validate();
        if (validated) {
            document.getElementById("validate_error").style.display = "none";
            enableTabs();
            loadClassList();
            resetClassSelection();
            loadRaceList();
            resetRaceSelection();
            //TODO: Reset powers selection
            changeTab("class_body", document.getElementById("class_selector"));
        }
        else {
            document.getElementById("validate_error").style.display = "block";
        }
    }

    function selectText(element) {
        return element.options[element.selectedIndex].text;
    }

    function selectValue(element) {
        return element.options[element.selectedIndex].value;
    }

    function startCreation() {
        document.getElementById("welcome_body").style.display = "none";
        document.getElementById("ability_body").style.display = "block";
        CURRENT_TAB = "ability_body";
        CURRENT_TAB_SELECTOR = document.getElementById("ability_selector");
        CURRENT_TAB_SELECTOR.classList.add("menu_tab_selected");
    }

    function update_ability_scores() {
        var sMod = getModifier(STRENGTH);
        var qMod = getModifier(QUICKNESS);
        var iMod = getModifier(INTELLIGENCE);
        var lMod = getModifier(LEADERSHIP);

        document.getElementById("ability_s").innerText = STRENGTH + " (" + (sMod > 0 ? '+':'') + sMod + ")";
        document.getElementById("ability_q").innerText = QUICKNESS + " (" + (qMod > 0 ? '+':'') + qMod + ")";
        document.getElementById("ability_i").innerText = INTELLIGENCE + " (" + (iMod > 0 ? '+':'') + iMod + ")";
        document.getElementById("ability_l").innerText = LEADERSHIP + " (" + (lMod > 0 ? '+':'') + lMod + ")";
        document.getElementById("ability_e").innerText = ENDURANCE;
    }

    function validate() {
        var abilities = [];
        for (var i = 1; i <= 5; i++) {
            abilities.push(document.getElementById("select" + i));
        }
        for (var j = 0; j < 5; j++) {
            var element = abilities[j];
            for (var k = 0; k < 5; k++) {
                if (j === k) continue;
                var e = abilities[k];
                if (e.options[e.selectedIndex].text === element.options[element.selectedIndex].text) {
                    return false;
                }
            }
        }
        for (var h = 0; h < 5; h++) {
            e = abilities[h];
            if (e.options[e.selectedIndex].text === "Strength") {
                STRENGTH = document.getElementById("roll_total" + (h+1)).innerText.split(" ")[0];
            }
            if (e.options[e.selectedIndex].text === "Quickness") {
                QUICKNESS = document.getElementById("roll_total" + (h+1)).innerText.split(" ")[0];
            }
            if (e.options[e.selectedIndex].text === "Intelligence") {
                INTELLIGENCE = document.getElementById("roll_total" + (h+1)).innerText.split(" ")[0];
            }
            if (e.options[e.selectedIndex].text === "Leadership") {
                LEADERSHIP = document.getElementById("roll_total" + (h+1)).innerText.split(" ")[0];
            }
            if (e.options[e.selectedIndex].text === "Endurance") {
                ENDURANCE = document.getElementById("roll_total" + (h+1)).innerText.split(" ")[0];
             }
        }
        return true;
    }

</script>
<body id="body">
<div id="middlePanel">
    <div id="menu">
        <div id="characterCreationHeader"><span>New Character<br> Creation</span></div>
        <button id="ability_selector" class="menu_tab" onclick="changeTab('ability_body', this)">Ability Scores</button>
        <button id="class_selector" class="menu_tab disabled_menu_item" onclick="changeTab('class_body', this)">Class</button>
        <button class="menu_tab disabled_menu_item" onclick="changeTab('race_body', this)">Race</button>
        <button class="menu_tab disabled_menu_item" onclick="changeTab('powers_body', this)">Powers</button>
        <button class="menu_tab disabled_menu_item" onclick="changeTab('name_body', this)">Name</button>
        <button class="menu_tab disabled_menu_item" onclick="changeTab('start_body', this)">Start</button>
    </div>
    <div class="welcome_message" id="welcome_body" style="text-align: center;font-size: 17pt;margin-top: 10vh;">
        <p>While normal Castle Adventure allows you to roll physical dice, Osp-Garath is...different.
            For characters created specifically to enter the tower and once within the tower itself, all rolls
            will be made for you. <i>When</i> you choose to roll is entirely up to you and is your way of
            deciding when random probability and chance will come in to reality.</p>
        <button class="game_button" onclick="startCreation()" style="margin: 0 35%;">I Understand</button>
    </div>
    <div id="ability_body" style="display: none;">
        <div class="welcome_message" style="font-size:12pt; width:51vw; text-align:center;">
            <!--<p>Each character will roll 5d4 five times, once for each ability score (Strength, Quickness, Intelligence, and Leadership).-->
                <!--One of the five rolls will be used for your character's endurance, removing the two lowest dice values-->
                <!--from that roll. You may choose which roll to assign to each ability.</p>-->
            <p>Conforming with standard Castle Adventure rules, you will only have one chance to roll for each
                ability score. Therefore, choose wisely when to make that roll.</p>
        </div>
        <div id="row1_ability" class="ability_row">
            <button class="game_button ability_button" onclick="rollAttribute(1, this)" style="display:inline-block;">First Roll</button>
            <div class="roll_display" style="display:inline-flex;">
                <div class="roll_numbers">
                    <span id="roll1-1" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll1-2" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll1-3" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll1-4" class="roll_span">0</span><span id="last_plus1" class="roll_span">+</span>
                    <span id="roll1-5" class="roll_span">0</span><span class="roll_span">=</span>
                    <span id="roll_total1" class="roll_span">0 (-)</span>
                </div>
            </div>
            <!--<div id="roll_total1" class="roll_total">0 (-)</div>-->
            <div class="ability_select" style="display:inline-block;">
                <select onchange="adjustEndurance(1, this)" id="select1">
                    <option value="">Strength</option> <!--TODO: REMOVE-->
                    <option value="strength">Strength</option>
                    <option value="quickness">Quickness</option>
                    <option value="intelligence">Intelligence</option>
                    <option value="leadership">Leadership</option>
                    <option value="endurance">Endurance</option>
                </select>
            </div>
        </div>
        <div id="row2_ability" class="ability_row">
            <button class="game_button ability_button" onclick="rollAttribute(2, this)" style="display:inline-block;">Second Roll</button>
            <div class="roll_display" style="display:inline-flex;">
                <div class="roll_numbers">
                    <span id="roll2-1" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll2-2" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll2-3" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll2-4" class="roll_span">0</span><span id="last_plus2" class="roll_span">+</span>
                    <span id="roll2-5" class="roll_span">0</span><span class="roll_span">=</span>
                    <span id="roll_total2" class="roll_span">0 (-)</span>
                </div>
            </div>
            <div class="ability_select">
                <select onchange="adjustEndurance(2, this)" id="select2">
                    <option value="">Quickness</option> <!--TODO: REMOVE-->
                    <option value="strength">Strength</option>
                    <option value="quickness">Quickness</option>
                    <option value="intelligence">Intelligence</option>
                    <option value="leadership">Leadership</option>
                    <option value="endurance">Endurance</option>
                </select>
            </div>
        </div>
        <div id="row3_ability" class="ability_row">
            <button class="game_button ability_button" onclick="rollAttribute(3, this)" style="display:inline-block;">Third Roll</button>
            <div class="roll_display" style="display:inline-flex;">
                <div class="roll_numbers">
                    <span id="roll3-1" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll3-2" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll3-3" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll3-4" class="roll_span">0</span><span id="last_plus3" class="roll_span">+</span>
                    <span id="roll3-5" class="roll_span">0</span><span class="roll_span">=</span>
                    <span id="roll_total3" class="roll_span">0 (-)</span>
                </div>
            </div>
            <div class="ability_select">
                <select onchange="adjustEndurance(3, this)" id="select3">
                    <option value="">Intelligence</option> <!--TODO: REMOVE-->
                    <option value="strength">Strength</option>
                    <option value="quickness">Quickness</option>
                    <option value="intelligence">Intelligence</option>
                    <option value="leadership">Leadership</option>
                    <option value="endurance">Endurance</option>
                </select>
            </div>
        </div>
        <div id="row4_ability" class="ability_row">
            <button class="game_button ability_button" onclick="rollAttribute(4, this)" style="display:inline-block;">Fourth Roll</button>
            <div class="roll_display" style="display:inline-flex;">
                <div class="roll_numbers">
                    <span id="roll4-1" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll4-2" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll4-3" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll4-4" class="roll_span">0</span><span id="last_plus4" class="roll_span">+</span>
                    <span id="roll4-5" class="roll_span">0</span><span class="roll_span">=</span>
                    <span id="roll_total4" class="roll_span">0 (-)</span>
                </div>
            </div>
            <div class="ability_select">
                <select onchange="adjustEndurance(4, this)" id="select4">
                    <option value="">Leadership</option> <!--TODO: REMOVE-->
                    <option value="strength">Strength</option>
                    <option value="quickness">Quickness</option>
                    <option value="intelligence">Intelligence</option>
                    <option value="leadership">Leadership</option>
                    <option value="endurance">Endurance</option>
                </select>
            </div>
        </div>
        <div id="row5_ability" class="ability_row">
            <button class="game_button ability_button" onclick="rollAttribute(5, this)" style="display:inline-block;">Fifth Roll</button>
            <div class="roll_display" style="display:inline-flex;">
                <div class="roll_numbers">
                    <span id="roll5-1" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll5-2" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll5-3" class="roll_span">0</span><span class="roll_span">+</span>
                    <span id="roll5-4" class="roll_span">0</span><span id="last_plus5" class="roll_span">+</span>
                    <span id="roll5-5" class="roll_span">0</span><span class="roll_span">=</span>
                    <span id="roll_total5" class="roll_span">0 (-)</span>
                </div>
            </div>
            <div class="ability_select">
                <select onchange="adjustEndurance(5, this)" id="select5">
                    <option value="">Endurance</option> <!--TODO: REMOVE-->
                    <option value="strength">Strength</option>
                    <option value="quickness">Quickness</option>
                    <option value="intelligence">Intelligence</option>
                    <option value="leadership">Leadership</option>
                    <option value="endurance">Endurance</option>
                </select>
            </div>
        </div>
        <div id="save" style="display: flex;">
            <button class="game_button" onclick="saveAbilities()">Save</button>
            <p id="validate_error" class="error_message" style="display: none;">
                Assign an ability to each roll</p>
        </div>
    </div>
    <div id="class_body" style="display: none;">
        <div>
            <p style="font-size:24pt; margin-bottom:0;">Select a Class:</p>
            <p style="font-size: 10pt;">(Choosing a class that does not fit your ability layout will cause your scores to be reordered)</p>
            <select onchange="loadClassDescription(this)" id="class_select" style="width:20vw;padding-left:1.4vw;">

            </select>
            <p id="class_description"></p>
            <p id="traits_header" style="font-size:16pt;margin-bottom:-1vh;margin-top:-1vh;" class="hidden">Class Traits:</p>
            <ul id="class_traits" style="text-align: left;"></ul>
            <p id="restrictions_header" style="font-size:16pt;margin-bottom:-1vh;margin-top:-1vh;" class="hidden">Class Restrictions:</p>
            <ul id="class_restrictions" style="text-align: left;"></ul>
        </div>
    </div>
    <div id="race_body" style="display: none;">
        <div>
            <p style="font-size:24pt; margin-bottom:0;">Select a Race:</p>
            <p style="font-size: 10pt;">(Ability scores affected by your chosen race will be calculated at the end of character creation)</p>
            <select onchange="loadRaceDescription(this)" id="race_select" style="width:20vw;padding-left:1.4vw;">

            </select>
            <p id="race_description"></p>
            <p id="racial_traits_header" style="font-size:16pt;margin-bottom:-1vh;margin-top:-1vh;" class="hidden">Racial Traits:</p>
            <ul id="racial_traits" style="text-align: left;width:20vw;padding-left:16vw;"></ul>
            <p id="racial_powers_header" style="font-size:16pt;margin-bottom:-1vh;margin-top:-1vh;" class="hidden">Racial Power:</p>
            <p id="racial_powers" style="text-align: left;"></p>
        </div>
    </div>
    <div id="powers_body" style="display: none;">
        <div id="power_title_display">
            <!--<span id="power_title"></span>-->
            <!--<span id="points_remaining">(You have 2 power points remaining)</span>-->
        </div>
        <div id="powers_display" class="tooltip" data-tooltip-content="#tooltip_content">
            <p style="font-size:24pt; margin-bottom:0; text-align:center;"><span id="power_title"></span> Powers:</p>
            <p style="font-size: 10pt; text-align: center;">You have <b>2</b> power points remaining</p>
        </div>
        <span class="tooltip" data-tooltip-content="#tooltip_content">This span has a tooltip with HTML when you hover over it!</span>
    </div>
    <div id="name_body" style="display: none;"></div>
    <div id="start_body" style="display: none;"></div>
    <div id="ability_scores" class="ability_scores_box" style="display: none;">
        <h3><u>New Character</u></h3>
        <div><span>Strength: </span><span id="ability_s"></span></div>
        <div><span>Quickness: </span><span id="ability_q"></span></div>
        <div><span>Intelligence: </span><span id="ability_i"></span></div>
        <div><span>Leadership: </span><span id="ability_l"></span></div>
        <div><span>Endurance: </span><span id="ability_e"></span></div>
    </div>

</div>
<div class="tooltip_templates">
    <div id="tooltip_content">
        <img src="" id="power_icon">
        <span id="power_name"></span>
        <span id="power_description"></span>
    </div>
    <!--<span id="tooltip_content">-->
        <!--<img src="" /> <strong>This is the content of my tooltip!</strong>-->
    <!--</span>-->
</div>
</body>
</html>